<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>V-Pulsar&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="UESTC第一菜">
<meta property="og:type" content="website">
<meta property="og:title" content="V-Pulsar's Blog">
<meta property="og:url" content="/PulsarTao.github.io/index.html">
<meta property="og:site_name" content="V-Pulsar's Blog">
<meta property="og:description" content="UESTC第一菜">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="V-Pulsar's Blog">
<meta name="twitter:description" content="UESTC第一菜">
  
    <link rel="alternate" href="/atom.xml" title="V-Pulsar&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">V-Pulsar&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">道可道，非常道</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="/PulsarTao.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Apache-Config" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/12/Apache-Config/" class="article-date">
  <time datetime="2017-01-12T07:06:51.000Z" itemprop="datePublished">2017-01-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/12/Apache-Config/">Apache Config</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="卸载apache"><a href="#卸载apache" class="headerlink" title="卸载apache"></a>卸载apache</h2><p>有时候使用Ubuntu 服务器的时候会出现卸载Apache服务以后libapache2-mod-php不能安装这种情况，报错报一些脚本错误，这是前面Apache未卸载干净的原因，下面给出一些完全卸载Apache的方法。<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">sudo apt-<span class="keyword">get</span> <span class="comment">--purge remove apache-common</span></div><div class="line">apt-<span class="keyword">get</span> <span class="comment">--purge remove apache  </span></div><div class="line">```  </div><div class="line"></div><div class="line"><span class="number">1.</span> 找到没有删除掉的配置文件，一并删除  </div><div class="line"></div><div class="line">指令如下</div></pre></td></tr></table></figure></p>
<p>$ sudo find /etc -name “<em>apache</em>“ |xargs  rm -rf<br>$ sudo rm -rf /var/www<br>$sudo rm -rf /etc/libapache2-mod-XXX<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">XXX处填你需要卸载的模块名称  </div><div class="line"></div><div class="line"><span class="number">2.</span> 删除关联，这样就可以再次用apt-<span class="keyword">get</span> install apache2 重装了</div></pre></td></tr></table></figure></p>
<p>#dpkg -l |grep apache2|awk ‘{print $2}’|xargs dpkg -P<br>```</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="/PulsarTao.github.io/2017/01/12/Apache-Config/" data-id="cixu1k1t40001mofudgo7ro8v" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Apache/">Apache</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Server/">Server</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-PHP-Basic-NO-1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/12/PHP-Basic-NO-1/" class="article-date">
  <time datetime="2017-01-11T16:20:51.000Z" itemprop="datePublished">2017-01-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/12/PHP-Basic-NO-1/">PHP Basic NO.1</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="变量-Variable-Value"><a href="#变量-Variable-Value" class="headerlink" title="变量 Variable Value"></a>变量 Variable Value</h2><p>什么是变量？<br>What’s variable?<br>变量是用于编程语言中进行计算的一系列抽象数据，列如<br>Variable is a abstract data to use in programing languages<br>eg:c-1-1<br><figure class="highlight gams"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta"><span class="meta-keyword">$a</span>=1;</span></div></pre></td></tr></table></figure></p>
<p>上述列子中$a就是一个变量，其中$a是变量名，编程语言中每一个变量都有其对应的变量名。<br>$a is a variable in the above example one of the variable has it own variable name<br>变量是可变的(在纯函数式语言（如Haskell）中，变量可能是不可变的PHP不做赘述)<br>The value of variables is variable (In the pure functional languages like Haskell variable is possiblely immutable but I will not reapt it in PHP)<br>eg:c-1-2<br><figure class="highlight gams"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta"><span class="meta-keyword">$a</span>=1;</span></div><div class="line"><span class="meta"><span class="meta-keyword">$a</span>=2;</span></div></pre></td></tr></table></figure></p>
<p>上述示例中$a的值由1变为2。<br>The value of $a from 1 to 2</p>
<h3 id="变量的命名-The-naming-of-Variable"><a href="#变量的命名-The-naming-of-Variable" class="headerlink" title="变量的命名 The naming of Variable"></a>变量的命名 The naming of Variable</h3><p>PHP 中变量的命名遵守以下规则<br>The naming of variables in PHP follows the following rules  </p>
<ul>
<li>变量名区分大小写<br>PHP variable names are case-sensitive</li>
<li>变量名必须以美元符号$开始<br>PHP variable names should start with $</li>
<li>变量名开头可以以下划线开始<br>PHP variable names can start with a underline</li>
<li>变量名不能以数字字符开头<br>PHP variable can’t start with a numeric character  </li>
</ul>
<p>eg:c-1-3<br><figure class="highlight gams"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">$</span>_a=<span class="number">1</span>;</div><div class="line"><span class="meta"><span class="meta-keyword">$a</span>=2;</span></div><div class="line"><span class="meta"><span class="meta-keyword">$a323</span>=5;</span></div><div class="line"><span class="meta"><span class="meta-keyword">$a</span>_b=6;</span></div></pre></td></tr></table></figure></p>
<p>上述命名方法均正确<br>All the above methods are correct.</p>
<h3 id="可变变量-Variable-variables"><a href="#可变变量-Variable-variables" class="headerlink" title="可变变量 Variable variables"></a>可变变量 Variable variables</h3><p>eg:c-1-4<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$a</span>=<span class="string">"c"</span>;</div><div class="line">$<span class="variable">$a</span>=<span class="number">2</span>;<span class="regexp">//</span>It means <span class="variable">$c</span>=<span class="number">2</span></div></pre></td></tr></table></figure></p>
<p>多个美元符声明了对应字符变量下的值为变量的变量。这种形式称为可变变量。可变变量多用于交换<a href="">数组</a>键值的数据处理中。</p>
<h2 id="变量的数据类型-Data-Type"><a href="#变量的数据类型-Data-Type" class="headerlink" title="变量的数据类型  Data Type"></a>变量的数据类型  Data Type</h2><p>END</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="/PulsarTao.github.io/2017/01/12/PHP-Basic-NO-1/" data-id="cixu1k1u3000dmofug11x2kwy" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PHP/">PHP</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-PHP-Basic" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/12/PHP-Basic/" class="article-date">
  <time datetime="2017-01-11T16:20:44.000Z" itemprop="datePublished">2017-01-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/12/PHP-Basic/">PHP Basic</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="什么是PHP"><a href="#什么是PHP" class="headerlink" title="什么是PHP?"></a>什么是<a href="http://php.net/" target="_blank" rel="external">PHP</a>?</h2><ul>
<li>　　PHP全名 Hypertext Preprocessor，中文名：“超文本预处理器”</li>
<li>　　PHP是一种通用开源脚本语言。语法吸收了C语言、Java和Perl的特点，利于学习，使用广泛，主要适用于Web开发领域。PHP 独特的语法混合了C、Java、Perl以及PHP自创的语法。它可以比CGI或者Perl更快速地执行动态网页。用PHP做出的动态页面与其他的编程语言相比，PHP是将程序嵌入到HTML（标准通用标记语言下的一个应用）文档中去执行，执行效率比完全生成HTML标记的CGI要高许多；PHP还可以执行编译后代码，编译可以达到加密和优化代码运行，使代码运行更快。  </li>
</ul>
<h2 id="PHP的特性"><a href="#PHP的特性" class="headerlink" title="PHP的特性"></a>PHP的特性</h2><ol>
<li>PHP 独特的语法混合了 C、Java、Perl 以及 PHP 自创新的语法。</li>
<li>　　PHP可以比CGI或者Perl更快速的执行动态网页——动态页面方面，与其他的编程语言相比，<br>PHP是将程序嵌入到HTML文档中去执行，执行效率比完全生成htmL标记的CGI要高许多；<br>PHP具有非常强大的功能，所有的CGI的功能PHP都能实现。</li>
<li>PHP支持几乎所有流行的数据库以及操作系统。</li>
<li>最重要的是PHP可以用C、C++进行程序的扩展！</li>
</ol>
<p>PHP主要针对于WEB后端开发以及服务器运维，其语言具有较强的针对性，因此在行业中有较强的认可。</p>
<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><p>　　1. 变量<br>　　　　|—<a href="">整形变量 Integer Variable</a><br>　　　　|—<a href="">浮点型变量 Floats Variable</a><br>　　　　|—<a href="">字符型变量 Character Variable</a><br>　　　　|—<a href="">字符串变量 String Variable</a><br>　　　　|—<a href="">常量 Constant</a><br>　　　　|—<a href="">函数,类的简单讲解 Simple explantion  of Class and Function</a><br>　　　　|—<a href="">变量作用域 Variables Scope</a>  </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="/PulsarTao.github.io/2017/01/12/PHP-Basic/" data-id="cixu1k1u6000emofum81v407f" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PHP/">PHP</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-A-PHP-OUTPUT-problem" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/12/A-PHP-OUTPUT-problem/" class="article-date">
  <time datetime="2017-01-11T16:20:28.000Z" itemprop="datePublished">2017-01-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/12/A-PHP-OUTPUT-problem/">A PHP OUTPUT problem</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>用PHP的时候无意间发现一个问题<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;?php</div><div class="line">  $a=<span class="string">'b'</span>;</div><div class="line">  $b=<span class="number">2</span>;</div><div class="line">  $i=&amp;$b+$$a;</div><div class="line">  var_dump($i);<span class="regexp">//</span>OUTPUT int(<span class="number">2</span>);</div><div class="line"><span class="meta">?&gt;</span></div><div class="line"><span class="string">``</span><span class="string">`  </span></div><div class="line"></div><div class="line">这段代码在执行`<span class="string">``</span>var_dump()<span class="string">``</span><span class="string">`输出以后会直接忽略掉$$a的值，而在引用b地址的时候直接让`</span><span class="string">``</span>$i=<span class="number">2</span></div></pre></td></tr></table></figure></p>
<p>这个问题我去问了<br><a href="http://stackoverflow.com/questions/41478377/the-principle-of-php-inference-variable-output" target="_blank" rel="external">Stack OverFllow</a> 他们给出了比较详细的回答，这里我也做一下讲解<br>问题主要出在引用变量上面，在php中<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">```</div><div class="line">$b = 7;</div><div class="line">$a = &amp;$b; // $a 指向$b</div><div class="line">$a = &apos;?&apos;; // $a 变量的值就会变得不明，因为前面它指向了$b的地址变量，变成了一个引用变量</div><div class="line">echo $b;  // 7</div><div class="line">```  </div><div class="line"></div><div class="line">而$a作为引用变量是不能给它赋值的，所以前面```$a=&apos;b&apos;```从根本上是不成立的,变成这样的根本原因在于```&amp;```引值运算符的[运算符优先权](http://php.net/manual/en/language.operators.precedence.php)大于等号。</div></pre></td></tr></table></figure></p>
<p>$a = 7;<br>$d = ($c = &amp;$a + 1); // $c和$d会出现不同的状况<br>echo $c; // 7 &amp;运算符的优先权比+大<br>echo $d; // 8 这儿输出的是$c的值因为括号运算符内$c变量加上了1<br>```</p>
<p>这个问题存在于PHP语言本身的运算符优先权分配的问题，仅作新颖问题思考，实际使用中不能这样使用。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="/PulsarTao.github.io/2017/01/12/A-PHP-OUTPUT-problem/" data-id="cixu1k1sx0000mofuli2atnfp" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PHP/">PHP</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ThinkProblem/">ThinkProblem</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Python-Basic" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/12/Python-Basic/" class="article-date">
  <time datetime="2017-01-11T16:19:17.000Z" itemprop="datePublished">2017-01-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/12/Python-Basic/">Python Basic</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="什么是Python"><a href="#什么是Python" class="headerlink" title="什么是Python?"></a>什么是Python?</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="/PulsarTao.github.io/2017/01/12/Python-Basic/" data-id="cixu1k1ua000gmofucm3rp9tj" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Wechat-PHP-Dev-NO-2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/11/Wechat-PHP-Dev-NO-2/" class="article-date">
  <time datetime="2017-01-11T07:08:12.000Z" itemprop="datePublished">2017-01-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/11/Wechat-PHP-Dev-NO-2/">Wechat PHP Dev NO.2</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li>接入文件，建立为Wechat.php（当此文件在框架中使用时，单独建立为一个Controller即可）.<br>首先我们需要宏定义一个TOKEN变量与微信接入的TOKEN一致  <figure class="highlight lasso"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">define</span></span>(<span class="string">'TOKEN'</span>,<span class="string">'YOUR_TOKEN'</span>);</div></pre></td></tr></table></figure>
</li>
</ol>
<p>宏定义TOKRN以后，调用官方给出的方法控制微信的消息、菜单接口<br>定义回调函数<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//验证TOKEN后输出验证</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">valid</span><span class="params">()</span> </span>&#123;</div><div class="line">	$echoStr = $_GET [<span class="string">"echostr"</span>];</div><div class="line">	<span class="keyword">if</span> (checkSignature ()) &#123;</div><div class="line">		<span class="keyword">echo</span> $echoStr;</div><div class="line">		<span class="keyword">exit</span> ();</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//验证TOKEN算法</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkSignature</span><span class="params">()</span> </span>&#123;</div><div class="line">	<span class="keyword">if</span> (! defined ( <span class="string">"TOKEN"</span> )) &#123;</div><div class="line">		<span class="keyword">throw</span> <span class="keyword">new</span> <span class="keyword">Exception</span> ( <span class="string">'TOKEN is not defined!'</span> );</div><div class="line">	&#125;</div><div class="line">	$signature = $_GET [<span class="string">"signature"</span>];</div><div class="line">	$timestamp = $_GET [<span class="string">"timestamp"</span>];</div><div class="line">	$nonce = $_GET [<span class="string">"nonce"</span>];</div><div class="line">	$token = TOKEN;</div><div class="line">	$tmpArr = <span class="keyword">array</span> (</div><div class="line">			$token,</div><div class="line">			$timestamp,</div><div class="line">			$nonce</div><div class="line">	);</div><div class="line">	sort ( $tmpArr, SORT_STRING );</div><div class="line">	$tmpStr = implode ( $tmpArr );</div><div class="line">	$tmpStr = sha1 ( $tmpStr );</div><div class="line"></div><div class="line">	<span class="keyword">if</span> ($tmpStr == $signature) &#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">	&#125; <span class="keyword">else</span> &#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>验证方式，当收到<figure class="highlight plain"><figcaption><span>```时，调用验证 函数进行验证，否则当消息为推送消息时，调用处理.</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">```</div><div class="line">//如果接收到验证信息则调用valid()函数进行验证</div><div class="line">if (isset ( $_GET [&apos;echostr&apos;] )) &#123;</div><div class="line">	valid ();</div><div class="line">&#125; else &#123;</div><div class="line">        //如果接收到的是微信客户端的消息则实例化回复类将OPENID传递给回复类的responseMsg()方法.</div><div class="line">	@$Wechart = new Answer();</div><div class="line">	@$openid = $_GET [&apos;openid&apos;];</div><div class="line">	@$Wechart-&gt;responseMsg ( $openid );</div><div class="line">	&#125;</div></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="/PulsarTao.github.io/2017/01/11/Wechat-PHP-Dev-NO-2/" data-id="cixu1k1us000mmofulv55z743" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PHP/">PHP</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Wechat/">Wechat</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Wechat-PHP-Dev-NO-1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/11/Wechat-PHP-Dev-NO-1/" class="article-date">
  <time datetime="2017-01-11T06:56:06.000Z" itemprop="datePublished">2017-01-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/11/Wechat-PHP-Dev-NO-1/">Wechat PHP Dev NO.1</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>首先，梳理一下微信公众号的整个工作流程  </p>
<ul>
<li>事件<br>事件就是用户对公众号发生一系列操作的时候触发的动作<br>微信的事件有下  <ol>
<li><a href="">关注/取消关注事件</a></li>
<li><a href="">扫描带参数二维码事件</a></li>
<li><a href="">上报地理位置事件</a></li>
<li><a href="">自定义菜单事件</a></li>
<li><a href="">点击菜单拉取消息时的事件推送</a></li>
<li><a href="">点击菜单跳转链接时的事件推送</a></li>
</ol>
</li>
</ul>
<p>用户在关注与取消关注公众号时，微信会把这个事件推送到开发者填写的URL,即发送一个REQUEST到用户所填的URL地址.</p>
<p>微信服务器在五秒内收不到响应会断掉连接，并且重新发起请求，总共重试三次。假如服务器无法保证在五秒内处理并回复，可以直接回复空串，微信服务器不会对此作任何处理，并且不会发起重试。<br><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span>          <span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span>           <span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span></div><div class="line"><span class="comment">|用户事件|→MEssage→|腾讯微信服务器|→REQUEST→|你的微信服务器|</span></div><div class="line"><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span>          <span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span>           <span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span></div><div class="line">                                                 <span class="comment">↓</span></div><div class="line">                      <span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span>               <span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span></div><div class="line">                      <span class="comment">|用户|←</span>  <span class="comment">Message</span>    <span class="comment">←|腾讯微信服务器|</span></div><div class="line">                      <span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span>                <span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span></div></pre></td></tr></table></figure></p>
<h4 id="关注-取消关注事件"><a href="#关注-取消关注事件" class="headerlink" title="关注/取消关注事件"></a>关注/取消关注事件</h4><p>关注/取消关注事件发生时腾讯服务器会向你的URL的地址推送XML数据<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">xml</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">ToUserName</span>&gt;</span>&lt;![CDATA[toUser]]&gt;<span class="tag">&lt;/<span class="name">ToUserName</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">FromUserName</span>&gt;</span>&lt;![CDATA[FromUser]]&gt;<span class="tag">&lt;/<span class="name">FromUserName</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">CreateTime</span>&gt;</span>123456789<span class="tag">&lt;/<span class="name">CreateTime</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">MsgType</span>&gt;</span>&lt;![CDATA[event]]&gt;<span class="tag">&lt;/<span class="name">MsgType</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">Event</span>&gt;</span>&lt;![CDATA[subscribe]]&gt;<span class="tag">&lt;/<span class="name">Event</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">xml</span>&gt;</span></div></pre></td></tr></table></figure></p>
<table><br>  <tr><br>    <td><br>      参数<br>    </td><br>    <td><br>      描述<br>    </td><br>  </tr><br>  <tr><br>    <td><br>      ToUserName<br>    </td><br>    <td><br>      开发者微信号<br>    </td><br>  </tr><br>  <tr><br>    <td><br>      FromUserName<br>    </td><br>    <td><br>      发送方帐号（一个OpenID）<br>    </td><br>  </tr><br>  <tr><br>    <td><br>      CreateTime<br>    </td><br>    <td><br>      消息创建时间 （整型）(时间戳)<br>    </td><br>  </tr><br>  <tr><br>    <td><br>      MsgType<br>    </td><br>    <td><br>      消息类型，event<br>    </td><br>  </tr><br>  <tr><br>    <td><br>      Event<br>    </td><br>    <td><br>      事件类型，subscribe(订阅)、unsubscribe(取消订阅)<br>    </td><br>  </tr><br></table>

<h4 id="扫描带参数二维码事件"><a href="#扫描带参数二维码事件" class="headerlink" title="扫描带参数二维码事件"></a>扫描带参数二维码事件</h4><p>用户扫描带场景值二维码时，可能推送以下两种事件：</p>
<ul>
<li><p>如果用户还未关注公众号，则用户可以关注公众号，关注后微信会将带场景值关注事件推送给开发者。</p>
</li>
<li><p>如果用户已经关注公众号，则微信会将带场景值扫描事件推送给开发者。<br>REQUEST XML如下</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">xml</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">ToUserName</span>&gt;</span>&lt;![CDATA[toUser]]&gt;<span class="tag">&lt;/<span class="name">ToUserName</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">FromUserName</span>&gt;</span>&lt;![CDATA[FromUser]]&gt;<span class="tag">&lt;/<span class="name">FromUserName</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">CreateTime</span>&gt;</span>123456789<span class="tag">&lt;/<span class="name">CreateTime</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">MsgType</span>&gt;</span>&lt;![CDATA[event]]&gt;<span class="tag">&lt;/<span class="name">MsgType</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">Event</span>&gt;</span>&lt;![CDATA[subscribe]]&gt;<span class="tag">&lt;/<span class="name">Event</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">EventKey</span>&gt;</span>&lt;![CDATA[qrscene_123123]]&gt;<span class="tag">&lt;/<span class="name">EventKey</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">Ticket</span>&gt;</span>&lt;![CDATA[TICKET]]&gt;<span class="tag">&lt;/<span class="name">Ticket</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">xml</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ul>
<table><br>  <tr><br>    <th>参数</th><br>    <th>描述</th><br>  </tr><br>  <tr><br>    <td>ToUserName</td><br>    <td>开发者微信号</td><br>  </tr><br>  <tr><br>    <td>FromUserName</td><br>    <td>发送方帐号（一个OpenID）</td><br>  </tr><br>  <tr><br>    <td>CreateTime</td><br>    <td>消息创建时间 （整型）</td><br>  </tr><br>  <tr><br>    <td>MsgType</td><br>    <td>消息类型，event</td><br>  </tr><br>  <tr><br>    <td>Event</td><br>    <td>事件类型，subscribe</td><br>  </tr><br>  <tr><br>    <td>EventKey</td><br>    <td>事件KEY值，qrscene_为前缀，后面为二维码的参数值</td><br>  </tr><br>  <tr><br>    <td>Ticket</td><td>二维码的ticket，可用来换取二维码图片</td><br>  </tr><br></table>

<h4 id="用户已关注时的事件推送"><a href="#用户已关注时的事件推送" class="headerlink" title="用户已关注时的事件推送"></a>用户已关注时的事件推送</h4><p>此事件发生的时间为当用户关注此公众号时<br>REQUEST XML:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">xml</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">ToUserName</span>&gt;</span>&lt;![CDATA[toUser]]&gt;<span class="tag">&lt;/<span class="name">ToUserName</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">FromUserName</span>&gt;</span>&lt;![CDATA[FromUser]]&gt;<span class="tag">&lt;/<span class="name">FromUserName</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">CreateTime</span>&gt;</span>123456789<span class="tag">&lt;/<span class="name">CreateTime</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">MsgType</span>&gt;</span>&lt;![CDATA[event]]&gt;<span class="tag">&lt;/<span class="name">MsgType</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">Event</span>&gt;</span>&lt;![CDATA[SCAN]]&gt;<span class="tag">&lt;/<span class="name">Event</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">EventKey</span>&gt;</span>&lt;![CDATA[SCENE_VALUE]]&gt;<span class="tag">&lt;/<span class="name">EventKey</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">Ticket</span>&gt;</span>&lt;![CDATA[TICKET]]&gt;<span class="tag">&lt;/<span class="name">Ticket</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">xml</span>&gt;</span></div></pre></td></tr></table></figure></p>
<table><br>  <tr><br>    <th>参数</th><br>    <th>描述</th><br>  </tr><br>  <tr><br>    <td>ToUserName</td><br>    <td>开发者微信号</td><br>  </tr><br>  <tr><br>    <td>FromUserName</td><br>    <td>发送方帐号（一个OpenID）</td><br>  </tr><br>  <tr><br>    <td>CreateTime</td><br>    <td>消息创建时间 （整型）</td><br>  </tr><br>  <tr><br>    <td>MsgType</td><br>    <td>消息类型，event</td><br>  </tr><br>  <tr><br>    <td>Event</td><br>    <td>事件类型，SCAN</td><br>  </tr><br>  <tr><br>    <td>EventKey</td><br>    <td>事件KEY值，是一个32位无符号整数，即创建二维码时的二维码scene_id</td><br>  </tr><br>  <tr><br>    <td>Ticket</td><td>二维码的ticket，可用来换取二维码图片</td><br>  </tr><br></table>  

<h4 id="上报地理位置事件"><a href="#上报地理位置事件" class="headerlink" title="上报地理位置事件"></a>上报地理位置事件</h4><p>REQUEST XML<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">xml</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">ToUserName</span>&gt;</span>&lt;![CDATA[toUser]]&gt;<span class="tag">&lt;/<span class="name">ToUserName</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">FromUserName</span>&gt;</span>&lt;![CDATA[fromUser]]&gt;<span class="tag">&lt;/<span class="name">FromUserName</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">CreateTime</span>&gt;</span>123456789<span class="tag">&lt;/<span class="name">CreateTime</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">MsgType</span>&gt;</span>&lt;![CDATA[event]]&gt;<span class="tag">&lt;/<span class="name">MsgType</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">Event</span>&gt;</span>&lt;![CDATA[LOCATION]]&gt;<span class="tag">&lt;/<span class="name">Event</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">Latitude</span>&gt;</span>23.137466<span class="tag">&lt;/<span class="name">Latitude</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">Longitude</span>&gt;</span>113.352425<span class="tag">&lt;/<span class="name">Longitude</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">Precision</span>&gt;</span>119.385040<span class="tag">&lt;/<span class="name">Precision</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">xml</span>&gt;</span></div></pre></td></tr></table></figure></p>
<table><br>  <tr><br>    <th>参数</th><br>    <th>描述</th><br>  </tr><br>  <tr><br>    <td>ToUserName</td><br>    <td>开发者微信号</td><br>  </tr><br>  <tr><br>    <td>FromUserName</td><br>    <td>发送方帐号（一个OpenID）</td><br>  </tr><br>  <tr><br>    <td>CreateTime</td><br>    <td>消息创建时间 （整型）</td><br>  </tr><br>  <tr><br>    <td>MsgType</td><br>    <td>消息类型，event</td><br>  </tr><br>  <tr><br>    <td>Event</td><br>    <td>事件类型，LOCATION</td><br>  </tr><br>  <tr><br>    <td>Latitude</td><br>    <td>地理位置纬度</td><br>  </tr><br>  <tr><br>    <td>Longitude</td><br>    <td>地理位置经度</td><br>  </tr><br>  <tr><br>    <td>Precision</td><br>    <td>地理位置精度</td><br>  </tr><br></table>

<h4 id="自定义菜单事件"><a href="#自定义菜单事件" class="headerlink" title="自定义菜单事件"></a>自定义菜单事件</h4><p>用户点击自定义菜单后，微信会把点击事件推送给开发者，请注意，点击菜单弹出子菜单，不会产生上报。<br>此事件的发生时间为打开公众号时<br>REQUEST XML<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">xml</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">ToUserName</span>&gt;</span>&lt;![CDATA[toUser]]&gt;<span class="tag">&lt;/<span class="name">ToUserName</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">FromUserName</span>&gt;</span>&lt;![CDATA[FromUser]]&gt;<span class="tag">&lt;/<span class="name">FromUserName</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">CreateTime</span>&gt;</span>123456789<span class="tag">&lt;/<span class="name">CreateTime</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">MsgType</span>&gt;</span>&lt;![CDATA[event]]&gt;<span class="tag">&lt;/<span class="name">MsgType</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">Event</span>&gt;</span>&lt;![CDATA[CLICK]]&gt;<span class="tag">&lt;/<span class="name">Event</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">EventKey</span>&gt;</span>&lt;![CDATA[EVENTKEY]]&gt;<span class="tag">&lt;/<span class="name">EventKey</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">xml</span>&gt;</span></div></pre></td></tr></table></figure></p>
<table><br>  <tr><br>    <th>参数</th><br>    <th>描述</th><br>  </tr><br>  <tr><br>    <td>ToUserName</td><br>    <td>开发者微信号</td><br>  </tr><br>  <tr><br>    <td>FromUserName</td><br>    <td>发送方帐号（一个OpenID）</td><br>  </tr><br>  <tr><br>    <td>CreateTime</td><br>    <td>消息创建时间 （整型）</td><br>  </tr><br>  <tr><br>    <td>MsgType</td><br>    <td>消息类型，event</td><br>  </tr><br>  <tr><br>    <td>Event</td><br>    <td>事件类型，CLICK</td><br>  </tr><br>  <tr><br>    <td>EventKey</td><br>    <td>事件KEY值，与自定义菜单接口中KEY值对应</td><br>  </tr><br></table>

<h4 id="点击菜单跳转链接时的事件推送"><a href="#点击菜单跳转链接时的事件推送" class="headerlink" title="点击菜单跳转链接时的事件推送"></a>点击菜单跳转链接时的事件推送</h4><p>此事件发生的时间为用户点击自定义菜单时<br>REQUEST XML<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">xml</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">ToUserName</span>&gt;</span>&lt;![CDATA[toUser]]&gt;<span class="tag">&lt;/<span class="name">ToUserName</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">FromUserName</span>&gt;</span>&lt;![CDATA[FromUser]]&gt;<span class="tag">&lt;/<span class="name">FromUserName</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">CreateTime</span>&gt;</span>123456789<span class="tag">&lt;/<span class="name">CreateTime</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">MsgType</span>&gt;</span>&lt;![CDATA[event]]&gt;<span class="tag">&lt;/<span class="name">MsgType</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">Event</span>&gt;</span>&lt;![CDATA[VIEW]]&gt;<span class="tag">&lt;/<span class="name">Event</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">EventKey</span>&gt;</span>&lt;![CDATA[www.qq.com]]&gt;<span class="tag">&lt;/<span class="name">EventKey</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">xml</span>&gt;</span></div></pre></td></tr></table></figure></p>
<table><br>  <tr><br>    <th>参数</th><br>    <th>描述</th><br>  </tr><br>  <tr><br>    <td>ToUserName</td><br>    <td>开发者微信号</td><br>  </tr><br>  <tr><br>    <td>FromUserName</td><br>    <td>发送方帐号（一个OpenID）</td><br>  </tr><br>  <tr><br>    <td>CreateTime</td><br>    <td>消息创建时间 （整型）</td><br>  </tr><br>  <tr><br>    <td>MsgType</td><br>    <td>消息类型，event</td><br>  </tr><br>  <tr><br>    <td>Event</td><br>    <td>事件类型，VIEW</td><br>  </tr><br>  <tr><br>    <td>EventKey</td><br>    <td>事件KEY值，设置的跳转URL</td><br>  </tr><br></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="/PulsarTao.github.io/2017/01/11/Wechat-PHP-Dev-NO-1/" data-id="cixu1k1ug000imofucbsgvveq" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PHP/">PHP</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Wechat/">Wechat</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Time-method-C" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/09/Time-method-C/" class="article-date">
  <time datetime="2017-01-09T05:24:51.000Z" itemprop="datePublished">2017-01-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/09/Time-method-C/">Time method C#</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight sqf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div></pre></td><td class="code"><pre><div class="line">DateTime dt = DateTime.Now;</div><div class="line">Label1.<span class="built_in">Text</span> = dt.<span class="built_in">ToString</span>();<span class="comment">//2005-11-5 13:21:25</span></div><div class="line">Label2.<span class="built_in">Text</span> = dt.ToFileTime().<span class="built_in">ToString</span>();<span class="comment">//127756416859912816</span></div><div class="line">Label3.<span class="built_in">Text</span> = dt.ToFileTimeUtc().<span class="built_in">ToString</span>();<span class="comment">//127756704859912816</span></div><div class="line">Label4.<span class="built_in">Text</span> = dt.ToLocalTime().<span class="built_in">ToString</span>();<span class="comment">//2005-11-5 21:21:25</span></div><div class="line">Label5.<span class="built_in">Text</span> = dt.ToLongDateString().<span class="built_in">ToString</span>();<span class="comment">//2005年11月5日</span></div><div class="line">Label6.<span class="built_in">Text</span> = dt.ToLongTimeString().<span class="built_in">ToString</span>();<span class="comment">//13:21:25</span></div><div class="line">Label7.<span class="built_in">Text</span> = dt.ToOADate().<span class="built_in">ToString</span>();<span class="comment">//38661.5565508218</span></div><div class="line">Label8.<span class="built_in">Text</span> = dt.ToShortDateString().<span class="built_in">ToString</span>();<span class="comment">//2005-11-5</span></div><div class="line">Label9.<span class="built_in">Text</span> = dt.ToShortTimeString().<span class="built_in">ToString</span>();<span class="comment">//13:21</span></div><div class="line">Label10.<span class="built_in">Text</span> = dt.ToUniversalTime().<span class="built_in">ToString</span>();<span class="comment">//2005-11-5 5:21:25</span></div><div class="line"><span class="comment">//?2005-11-5 13:30:28.4412864</span></div><div class="line">Label1.<span class="built_in">Text</span> = dt.Year.<span class="built_in">ToString</span>();<span class="comment">//2005</span></div><div class="line">Label2.<span class="built_in">Text</span> = dt.<span class="built_in">Date</span>.<span class="built_in">ToString</span>();<span class="comment">//2005-11-5 0:00:00</span></div><div class="line">Label3.<span class="built_in">Text</span> = dt.DayOfWeek.<span class="built_in">ToString</span>();<span class="comment">//Saturday</span></div><div class="line">Label4.<span class="built_in">Text</span> = dt.DayOfYear.<span class="built_in">ToString</span>();<span class="comment">//309</span></div><div class="line">Label5.<span class="built_in">Text</span> = dt.Hour.<span class="built_in">ToString</span>();<span class="comment">//13</span></div><div class="line">Label6.<span class="built_in">Text</span> = dt.Millisecond.<span class="built_in">ToString</span>();<span class="comment">//441</span></div><div class="line">Label7.<span class="built_in">Text</span> = dt.Minute.<span class="built_in">ToString</span>();<span class="comment">//30</span></div><div class="line">Label8.<span class="built_in">Text</span> = dt.Month.<span class="built_in">ToString</span>();<span class="comment">//11</span></div><div class="line">Label9.<span class="built_in">Text</span> = dt.Second.<span class="built_in">ToString</span>();<span class="comment">//28</span></div><div class="line">Label10.<span class="built_in">Text</span> = dt.Ticks.<span class="built_in">ToString</span>();<span class="comment">//632667942284412864</span></div><div class="line">Label11.<span class="built_in">Text</span> = dt.TimeOfDay.<span class="built_in">ToString</span>();<span class="comment">//13:30:28.4412864</span></div><div class="line">Label1.<span class="built_in">Text</span> = dt.<span class="built_in">ToString</span>();<span class="comment">//2005-11-5 13:47:04</span></div><div class="line">Label2.<span class="built_in">Text</span> = dt.AddYears(<span class="number">1</span>).<span class="built_in">ToString</span>();<span class="comment">//2006-11-5 13:47:04</span></div><div class="line">Label3.<span class="built_in">Text</span> = dt.AddDays(<span class="number">1.1</span>).<span class="built_in">ToString</span>();<span class="comment">//2005-11-6 16:11:04</span></div><div class="line">Label4.<span class="built_in">Text</span> = dt.AddHours(<span class="number">1.1</span>).<span class="built_in">ToString</span>();<span class="comment">//2005-11-5 14:53:04</span></div><div class="line">Label5.<span class="built_in">Text</span> = dt.AddMilliseconds(<span class="number">1.1</span>).<span class="built_in">ToString</span>();<span class="comment">//2005-11-5 13:47:04</span></div><div class="line">Label6.<span class="built_in">Text</span> = dt.AddMonths(<span class="number">1</span>).<span class="built_in">ToString</span>();<span class="comment">//2005-12-5 13:47:04</span></div><div class="line">Label7.<span class="built_in">Text</span> = dt.AddSeconds(<span class="number">1.1</span>).<span class="built_in">ToString</span>();<span class="comment">//2005-11-5 13:47:05</span></div><div class="line">Label8.<span class="built_in">Text</span> = dt.AddMinutes(<span class="number">1.1</span>).<span class="built_in">ToString</span>();<span class="comment">//2005-11-5 13:48:10</span></div><div class="line">Label9.<span class="built_in">Text</span> = dt.AddTicks(<span class="number">1000</span>).<span class="built_in">ToString</span>();<span class="comment">//2005-11-5 13:47:04</span></div><div class="line">Label10.<span class="built_in">Text</span> = dt.CompareTo(dt).<span class="built_in">ToString</span>();<span class="comment">//0</span></div><div class="line"><span class="comment">//Label11.Text = dt.Add(?).ToString();//问号为一个时间段</span></div><div class="line">Label1.<span class="built_in">Text</span> = dt.Equals(<span class="string">"2005-11-6 16:11:04"</span>).<span class="built_in">ToString</span>();<span class="comment">//False</span></div><div class="line">Label2.<span class="built_in">Text</span> = dt.Equals(dt).<span class="built_in">ToString</span>();<span class="comment">//True</span></div><div class="line">Label3.<span class="built_in">Text</span> = dt.GetHashCode().<span class="built_in">ToString</span>();<span class="comment">//1474088234</span></div><div class="line">Label4.<span class="built_in">Text</span> = dt.GetType().<span class="built_in">ToString</span>();<span class="comment">//System.DateTime</span></div><div class="line">Label5.<span class="built_in">Text</span> = dt.GetTypeCode().<span class="built_in">ToString</span>();<span class="comment">//DateTime</span></div><div class="line">Label1.<span class="built_in">Text</span> = dt.GetDateTimeFormats(<span class="string">'s'</span>)[<span class="number">0</span>].<span class="built_in">ToString</span>();<span class="comment">//2005-11-05T14:06:25</span></div><div class="line">Label2.<span class="built_in">Text</span> = dt.GetDateTimeFormats(<span class="string">'t'</span>)[<span class="number">0</span>].<span class="built_in">ToString</span>();<span class="comment">//14:06</span></div><div class="line">Label3.<span class="built_in">Text</span> = dt.GetDateTimeFormats(<span class="string">'y'</span>)[<span class="number">0</span>].<span class="built_in">ToString</span>();<span class="comment">//2005年11月</span></div><div class="line">Label4.<span class="built_in">Text</span> = dt.GetDateTimeFormats(<span class="string">'D'</span>)[<span class="number">0</span>].<span class="built_in">ToString</span>();<span class="comment">//2005年11月5日</span></div><div class="line">Label5.<span class="built_in">Text</span> = dt.GetDateTimeFormats(<span class="string">'D'</span>)[<span class="number">1</span>].<span class="built_in">ToString</span>();<span class="comment">//2005 11 05</span></div><div class="line">Label6.<span class="built_in">Text</span> = dt.GetDateTimeFormats(<span class="string">'D'</span>)[<span class="number">2</span>].<span class="built_in">ToString</span>();<span class="comment">//星期六 2005 11 05</span></div><div class="line">Label7.<span class="built_in">Text</span> = dt.GetDateTimeFormats(<span class="string">'D'</span>)[<span class="number">3</span>].<span class="built_in">ToString</span>();<span class="comment">//星期六 2005年11月5日</span></div><div class="line">Label8.<span class="built_in">Text</span> = dt.GetDateTimeFormats(<span class="string">'M'</span>)[<span class="number">0</span>].<span class="built_in">ToString</span>();<span class="comment">//11月5日</span></div><div class="line">Label9.<span class="built_in">Text</span> = dt.GetDateTimeFormats(<span class="string">'f'</span>)[<span class="number">0</span>].<span class="built_in">ToString</span>();<span class="comment">//2005年11月5日 14:06</span></div><div class="line">Label10.<span class="built_in">Text</span> = dt.GetDateTimeFormats(<span class="string">'g'</span>)[<span class="number">0</span>].<span class="built_in">ToString</span>();<span class="comment">//2005-11-5 14:06</span></div><div class="line">Label11.<span class="built_in">Text</span> = dt.GetDateTimeFormats(<span class="string">'r'</span>)[<span class="number">0</span>].<span class="built_in">ToString</span>();<span class="comment">//Sat, 05 Nov 2005 14:06:25 GMT</span></div><div class="line">Label1.<span class="built_in">Text</span> =? string.<span class="built_in">Format</span>(<span class="string">"&#123;0:d&#125;"</span>,dt);<span class="comment">//2005-11-5</span></div><div class="line">Label2.<span class="built_in">Text</span> =? string.<span class="built_in">Format</span>(<span class="string">"&#123;0:D&#125;"</span>,dt);<span class="comment">//2005年11月5日</span></div><div class="line">Label3.<span class="built_in">Text</span> =? string.<span class="built_in">Format</span>(<span class="string">"&#123;0:f&#125;"</span>,dt);<span class="comment">//2005年11月5日 14:23</span></div><div class="line">Label4.<span class="built_in">Text</span> =? string.<span class="built_in">Format</span>(<span class="string">"&#123;0:F&#125;"</span>,dt);<span class="comment">//2005年11月5日 14:23:23</span></div><div class="line">Label5.<span class="built_in">Text</span> =? string.<span class="built_in">Format</span>(<span class="string">"&#123;0:g&#125;"</span>,dt);<span class="comment">//2005-11-5 14:23</span></div><div class="line">Label6.<span class="built_in">Text</span> =? string.<span class="built_in">Format</span>(<span class="string">"&#123;0:G&#125;"</span>,dt);<span class="comment">//2005-11-5 14:23:23</span></div><div class="line">Label7.<span class="built_in">Text</span> =? string.<span class="built_in">Format</span>(<span class="string">"&#123;0:M&#125;"</span>,dt);<span class="comment">//11月5日</span></div><div class="line">Label8.<span class="built_in">Text</span> =? string.<span class="built_in">Format</span>(<span class="string">"&#123;0:R&#125;"</span>,dt);<span class="comment">//Sat, 05 Nov 2005 14:23:23 GMT</span></div><div class="line">Label9.<span class="built_in">Text</span> =? string.<span class="built_in">Format</span>(<span class="string">"&#123;0:s&#125;"</span>,dt);<span class="comment">//2005-11-05T14:23:23</span></div><div class="line">Label10.<span class="built_in">Text</span> = string.<span class="built_in">Format</span>(<span class="string">"&#123;0:t&#125;"</span>,dt);<span class="comment">//14:23</span></div><div class="line">Label11.<span class="built_in">Text</span> = string.<span class="built_in">Format</span>(<span class="string">"&#123;0:T&#125;"</span>,dt);<span class="comment">//14:23:23</span></div><div class="line">Label12.<span class="built_in">Text</span> = string.<span class="built_in">Format</span>(<span class="string">"&#123;0:u&#125;"</span>,dt);<span class="comment">//2005-11-05 14:23:23Z</span></div><div class="line">Label13.<span class="built_in">Text</span> = string.<span class="built_in">Format</span>(<span class="string">"&#123;0:U&#125;"</span>,dt);<span class="comment">//2005年11月5日 6:23:23</span></div><div class="line">Label14.<span class="built_in">Text</span> = string.<span class="built_in">Format</span>(<span class="string">"&#123;0:Y&#125;"</span>,dt);<span class="comment">//2005年11月</span></div><div class="line">Label15.<span class="built_in">Text</span> = string.<span class="built_in">Format</span>(<span class="string">"&#123;0&#125;"</span>,dt);<span class="comment">//2005-11-5 14:23:23?</span></div><div class="line">Label16.<span class="built_in">Text</span> = string.<span class="built_in">Format</span>(<span class="string">"&#123;0:yyyyMMddHHmmssffff&#125;"</span>,dt);</div><div class="line"><span class="comment">//yyyymm等可以设置,比如Label16.Text = string.Format("&#123;0:yyyyMMdd&#125;",dt);</span></div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="/PulsarTao.github.io/2017/01/09/Time-method-C/" data-id="cixu1k1uq000lmofuqb06y95g" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C#</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Note/">Note</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Apache/">Apache</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C#</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Note/">Note</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/">PHP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Server/">Server</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ThinkProblem/">ThinkProblem</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Wechat/">Wechat</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Apache/" style="font-size: 10px;">Apache</a> <a href="/tags/C/" style="font-size: 10px;">C#</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/Note/" style="font-size: 10px;">Note</a> <a href="/tags/PHP/" style="font-size: 20px;">PHP</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/Server/" style="font-size: 10px;">Server</a> <a href="/tags/ThinkProblem/" style="font-size: 10px;">ThinkProblem</a> <a href="/tags/Wechat/" style="font-size: 15px;">Wechat</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/01/12/Apache-Config/">Apache Config</a>
          </li>
        
          <li>
            <a href="/2017/01/12/PHP-Basic-NO-1/">PHP Basic NO.1</a>
          </li>
        
          <li>
            <a href="/2017/01/12/PHP-Basic/">PHP Basic</a>
          </li>
        
          <li>
            <a href="/2017/01/12/A-PHP-OUTPUT-problem/">A PHP OUTPUT problem</a>
          </li>
        
          <li>
            <a href="/2017/01/12/Python-Basic/">Python Basic</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Pulsar<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>
<script src="/js/script.js"></script>

  </div>
</body>
</html>
